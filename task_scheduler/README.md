# TerraFly 调度管理系统

TerraFly是一个统一的无人机和无人车调度管理系统，提供了直观的图形用户界面，用于管理和监控自动化配送任务。

## 功能特点

- **车辆管理**
  - 无人机和无人车统一管理
  - 实时状态监控
  - 电量和维护管理
  - 车辆注册和配置

- **任务管理**
  - 可视化任务创建
  - 优先级调度
  - 实时任务状态跟踪
  - 历史任务查询

- **路径规划**
  - 基于百度地图的全局导航
  - 局部路径规划
  - 实时路径可视化
  - 避障功能

- **系统监控**
  - 实时性能指标
  - 系统状态监控
  - 日志管理
  - 异常报警

- **车载/机载电脑**
  - 实时状态监控
  - 传感器数据可视化
  - 参数配置管理
  - 飞行控制面板
  - 任务控制管理
  - 紧急控制功能

## 系统要求

- Python 3.8+
- Windows/Linux/MacOS
- 2GB+ RAM
- 显示器分辨率 1920x1080 或更高

## 安装说明

1. 克隆项目代码：
```bash
git clone [项目地址]
cd task_scheduler
```

2. 创建虚拟环境（推荐）：
```bash
python -m venv venv
source venv/bin/activate  # Linux/MacOS
venv\Scripts\activate   # Windows
```

3. 安装依赖：
```bash
pip install -r requirements.txt
```

4. 配置系统：
- 复制 `config.example.py` 为 `config.py`
- 修改配置文件中的参数

## 使用说明

1. 启动系统：
```bash
python -m gui.app
```

2. 主要功能：

- **车辆管理**
  - 点击"添加车辆"注册新的无人机或无人车
  - 在车辆列表中查看和管理现有车辆
  - 监控车辆状态和位置

- **任务管理**
  - 使用任务创建向导添加新任务
  - 在任务列表中查看和管理任务
  - 设置任务优先级和截止时间

- **路径规划**
  - 在地图上选择起点和终点
  - 查看规划的路径
  - 实时跟踪车辆位置

- **系统监控**
  - 查看系统性能指标
  - 监控任务执行状态
  - 查看系统日志

- **车载/机载电脑**
  - 查看车辆基本信息（ID、类型、状态、电量等）
  - 监控传感器数据和系统日志
  - 配置飞行参数（速度、高度、返航等）
  - 设置安全参数（电量阈值、返航距离等）
  - 调整通信参数（频道、功率、加密等）
  - 执行飞行控制（起飞、降落、返航、悬停）
  - 管理任务控制（开始、暂停、继续、终止）
  - 紧急情况处理

## 开发指南

### 项目结构
```
task_scheduler/
├── gui/                # GUI相关代码
│   ├── __init__.py
│   ├── app.py         # 应用程序入口
│   ├── main_window.py # 主窗口
│   ├── vehicle_manager.py
│   ├── task_manager.py
│   ├── path_planner.py
│   ├── system_monitor.py
│   ├── vehicle_computer.py
│   ├── styles.py
│   └── utils.py
├── config.py          # 配置文件
├── requirements.txt   # 依赖列表
└── README.md         # 项目文档
```

### 开发规范

1. 代码风格
- 遵循PEP 8规范
- 使用black进行代码格式化
- 使用flake8进行代码检查

2. 提交规范
- 使用清晰的提交信息
- 每个功能创建单独的分支
- 提交前进行代码审查

3. 文档规范
- 为所有类和函数添加文档字符串
- 保持README文档的更新
- 记录重要的设计决策

## 常见问题

1. **系统无法启动**
   - 检查Python版本是否满足要求
   - 确认所有依赖已正确安装
   - 检查配置文件是否正确

2. **地图显示异常**
   - 确认百度地图API密钥是否有效
   - 检查网络连接
   - 确认坐标系统设置正确

3. **任务调度失败**
   - 检查车辆状态是否正常
   - 确认任务参数设置合理
   - 查看系统日志了解详细错误信息

4. **车载/机载电脑连接问题**
   - 检查通信设置是否正确
   - 确认网络连接状态
   - 验证通信加密配置

## 联系方式

如有问题或建议，请通过以下方式联系：

- 项目负责人：[联系方式]
- 技术支持：[联系方式]
- 问题反馈：[Issue链接]

## 许可证

本项目采用 [许可证类型] 许可证，详见 LICENSE 文件。